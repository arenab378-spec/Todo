{"ast":null,"code":"import _objectSpread from\"/home/tiny/Desktop/TodoApp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{isBefore,parseISO,addDays,addWeeks,addMonths}from'date-fns';import{DragDropContext}from'@hello-pangea/dnd';import{initAuth,onAuthChange,subscribeToTasks,addTaskToFirestore,updateTaskInFirestore,deleteTaskFromFirestore}from'./firebase';import SyncStatus from'./components/SyncStatus';import TopBar from'./components/TopBar';import InputContainer from'./components/InputContainer';import Toolbar from'./components/Toolbar';import TaskList from'./components/TaskList';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// Input states\nconst[inputText,setInputText]=useState('');const[dueInput,setDueInput]=useState('');const[recurrenceInput,setRecurrenceInput]=useState('none');const[tagInput,setTagInput]=useState('');// Task states\nconst[tasks,setTasks]=useState([]);const[editingId,setEditingId]=useState(null);const[editingText,setEditingText]=useState('');// History for undo/redo\nconst[historyPast,setHistoryPast]=useState([]);const[historyFuture,setHistoryFuture]=useState([]);// Filter states\nconst[filter,setFilter]=useState('all');const[filterTag,setFilterTag]=useState(null);const[searchText,setSearchText]=useState('');// Feature states\nconst[notificationsEnabled,setNotificationsEnabled]=useState(false);const[darkMode,setDarkMode]=useState(()=>{try{return localStorage.getItem('todoapp_darkmode')==='true';}catch(_unused){return false;}});// Firebase states\nconst[userId,setUserId]=useState(null);const[syncStatus,setSyncStatus]=useState('syncing');const[offlineMode,setOfflineMode]=useState(false);// Get unique tags from all tasks\nconst allTags=[...new Set(tasks.flatMap(t=>t.tags||[]))];// Load tasks from localStorage on mount\nuseEffect(()=>{try{const raw=localStorage.getItem('todoapp_tasks');if(raw)setTasks(JSON.parse(raw));}catch(e){console.warn('Failed to load tasks',e);}},[]);// Load history from localStorage on mount\nuseEffect(()=>{try{const past=localStorage.getItem('todoapp_history_past');const future=localStorage.getItem('todoapp_history_future');if(past)setHistoryPast(JSON.parse(past));if(future)setHistoryFuture(JSON.parse(future));}catch(e){console.warn('Failed to load history',e);}},[]);// Persist history whenever it changes\nuseEffect(()=>{try{localStorage.setItem('todoapp_history_past',JSON.stringify(historyPast));localStorage.setItem('todoapp_history_future',JSON.stringify(historyFuture));}catch(e){console.warn('Failed to save history',e);}},[historyPast,historyFuture]);// Initialize Firebase and auth\nuseEffect(()=>{initAuth();onAuthChange(user=>{if(user){console.log('üîê Logged in as:',user.uid);setUserId(user.uid);setSyncStatus('syncing');}});},[]);// Subscribe to Firestore tasks when user logs in\nuseEffect(()=>{if(!userId)return;const unsubscribe=subscribeToTasks(userId,firestoreTasks=>{console.log('üì• Synced tasks from Firestore:',firestoreTasks);setTasks(firestoreTasks);setSyncStatus('synced');setOfflineMode(false);});return()=>unsubscribe&&unsubscribe();},[userId]);// Persist tasks whenever they change\nuseEffect(()=>{try{localStorage.setItem('todoapp_tasks',JSON.stringify(tasks));}catch(e){console.warn('Failed to save tasks',e);}},[tasks]);// Persist dark mode\nuseEffect(()=>{localStorage.setItem('todoapp_darkmode',darkMode);document.body.className=darkMode?'dark-mode':'';},[darkMode]);// Keyboard shortcuts\nuseEffect(()=>{const handleKeyDown=e=>{// Ctrl+D or Cmd+D = toggle dark mode\nif((e.ctrlKey||e.metaKey)&&e.key==='d'){e.preventDefault();setDarkMode(prev=>!prev);}// Ctrl+Z = Undo ; Ctrl+Shift+Z = Redo\nif((e.ctrlKey||e.metaKey)&&e.key==='z'){e.preventDefault();if(e.shiftKey){redo();}else{undo();}}// Escape = cancel edit\nif(e.key==='Escape'&&editingId){setEditingId(null);setEditingText('');}};window.addEventListener('keydown',handleKeyDown);return()=>window.removeEventListener('keydown',handleKeyDown);},[editingId]);// Notifications: request permission and periodically check due tasks\nconst enableNotifications=async()=>{if(!('Notification'in window)){alert('Browser Anda tidak mendukung Notification API');return;}try{const perm=await Notification.requestPermission();if(perm==='granted'){setNotificationsEnabled(true);}else{alert('Izin notifikasi ditolak atau dibatalkan');}}catch(e){console.warn('Notification permission error',e);}};useEffect(()=>{let timer=null;if(notificationsEnabled){// check every 30s\ntimer=setInterval(()=>{const now=new Date();setTasks(prev=>prev.map(t=>{if(t.due&&!t.completed&&!t.notified){let dueDate;try{dueDate=parseISO(t.due);}catch(_unused2){return t;}if(dueDate.getTime()<=now.getTime()){try{if(Notification.permission==='granted'){/* eslint-disable no-new */const{format}=require('date-fns');new Notification(\"Tugas: \".concat(t.text),{body:\"Tenggat \".concat(format(dueDate,'Pp')),tag:\"task-\".concat(t.id)});}}catch(e){console.warn('Failed sending notification',e);}return _objectSpread(_objectSpread({},t),{},{notified:true});}}return t;}));},30000);}return()=>{if(timer)clearInterval(timer);};},[notificationsEnabled]);// Core task functions\n// History helpers for undo/redo\nconst pushHistory=prevTasks=>{setHistoryPast(h=>{const copy=h.slice(-98);// keep last 99\nreturn[...copy,prevTasks];});};const applyChange=updater=>{setTasks(prev=>{const next=typeof updater==='function'?updater(prev):updater;try{pushHistory(prev);}catch(e){/* ignore */}setHistoryFuture([]);// clear redo stack\nreturn next;});};const undo=()=>{setHistoryPast(past=>{if(!past||past.length===0)return past;const previous=past[past.length-1];setHistoryFuture(f=>[tasks,...f]);setTasks(previous);return past.slice(0,past.length-1);});};const redo=()=>{setHistoryFuture(future=>{if(!future||future.length===0)return future;const nextState=future[0];setHistoryPast(p=>[...p,tasks]);setTasks(nextState);return future.slice(1);});};const addTask=()=>{if(inputText.trim()){const newTask={id:Date.now(),text:inputText.trim(),completed:false,due:dueInput||null,recurrence:recurrenceInput,notified:false,tags:tagInput?tagInput.split(',').map(t=>t.trim()).filter(t=>t):[]};// Try to sync to Firestore\nif(userId&&!offlineMode){addTaskToFirestore(newTask,userId).then(docId=>{console.log('‚úÖ Task synced to Firestore:',docId);setTasks(prev=>prev.map(t=>t.id===newTask.id?_objectSpread(_objectSpread({},t),{},{firestoreId:docId}):t));}).catch(err=>{console.warn('‚ö†Ô∏è Failed to sync task to Firestore:',err);setOfflineMode(true);setSyncStatus('error');});}applyChange(prev=>[...prev,newTask]);setInputText('');setDueInput('');setRecurrenceInput('none');setTagInput('');}else{alert('Tulis dulu tugasnya!');}};const deleteTask=id=>{const task=tasks.find(t=>t.id===id);if(userId&&task!==null&&task!==void 0&&task.firestoreId&&!offlineMode){deleteTaskFromFirestore(userId,task.firestoreId).catch(err=>{console.warn('‚ö†Ô∏è Failed to delete task from Firestore:',err);setOfflineMode(true);setSyncStatus('error');});}applyChange(prev=>prev.filter(task=>task.id!==id));};const toggleComplete=id=>{const task=tasks.find(t=>t.id===id);if(task&&!task.completed&&task.recurrence&&task.recurrence!=='none'){handleTaskComplete(id);}else{applyChange(prev=>prev.map(t=>{if(t.id===id){const updated=_objectSpread(_objectSpread({},t),{},{completed:!t.completed});if(userId&&t.firestoreId&&!offlineMode){updateTaskInFirestore(userId,t.firestoreId,updated).catch(err=>{console.warn('‚ö†Ô∏è Failed to update task in Firestore:',err);setOfflineMode(true);setSyncStatus('error');});}return updated;}return t;}));}};const startEdit=task=>{setEditingId(task.id);setEditingText(task.text);};const saveEdit=id=>{if(!editingText.trim()){setEditingId(null);setEditingText('');return;}applyChange(prev=>prev.map(t=>{if(t.id===id){const updated=_objectSpread(_objectSpread({},t),{},{text:editingText.trim(),notified:t.due&&isBefore(parseISO(t.due),new Date())?t.notified:false});if(userId&&t.firestoreId&&!offlineMode){updateTaskInFirestore(userId,t.firestoreId,updated).catch(err=>{console.warn('‚ö†Ô∏è Failed to update task in Firestore:',err);setOfflineMode(true);setSyncStatus('error');});}return updated;}return t;}));setEditingId(null);setEditingText('');};const clearCompleted=()=>{applyChange(prev=>prev.filter(t=>!t.completed));};// Recurring task handler: when completed, generate next occurrence\nconst handleTaskComplete=id=>{applyChange(prev=>{const result=[];prev.forEach(t=>{if(t.id===id){result.push(_objectSpread(_objectSpread({},t),{},{completed:true}));if(t.recurrence&&t.recurrence!=='none'&&t.due){try{const dueDate=parseISO(t.due);let nextDue=null;if(t.recurrence==='daily')nextDue=addDays(dueDate,1).toISOString();else if(t.recurrence==='weekly')nextDue=addWeeks(dueDate,1).toISOString();else if(t.recurrence==='monthly')nextDue=addMonths(dueDate,1).toISOString();if(nextDue){result.push({id:Date.now()+Math.random(),text:t.text,completed:false,due:nextDue,recurrence:t.recurrence,notified:false,tags:t.tags||[]});}}catch(e){console.warn('Recurrence calc error',e);}}}else{result.push(t);}});return result;});};// Filter logic\nconst filtered=tasks.filter(t=>{if(filter==='active')return!t.completed;if(filter==='completed')return t.completed;return true;}).filter(t=>filterTag?t.tags&&t.tags.includes(filterTag):true).filter(t=>searchText?t.text.toLowerCase().includes(searchText.toLowerCase()):true);const remaining=tasks.filter(t=>!t.completed).length;const handleKeyPress=e=>{if(e.key==='Enter')addTask();};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDCDD To-Do List\"}),/*#__PURE__*/_jsx(SyncStatus,{syncStatus:syncStatus,offlineMode:offlineMode,userId:userId}),/*#__PURE__*/_jsx(TopBar,{searchText:searchText,onSearchChange:setSearchText,darkMode:darkMode,onThemeToggle:()=>setDarkMode(!darkMode)}),/*#__PURE__*/_jsx(InputContainer,{inputText:inputText,onInputChange:setInputText,onInputKeyPress:handleKeyPress,dueInput:dueInput,onDueChange:setDueInput,recurrenceInput:recurrenceInput,onRecurrenceChange:setRecurrenceInput,tagInput:tagInput,onTagChange:setTagInput,onAddTask:addTask}),/*#__PURE__*/_jsx(Toolbar,{filter:filter,onFilterChange:setFilter,allTags:allTags,filterTag:filterTag,onFilterTagChange:setFilterTag,remaining:remaining,onClearCompleted:clearCompleted,notificationsEnabled:notificationsEnabled,onToggleNotifications:()=>notificationsEnabled?setNotificationsEnabled(false):enableNotifications(),onUndo:undo,onRedo:redo,canUndo:historyPast.length>0,canRedo:historyFuture.length>0}),/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:result=>{const{destination,source}=result;if(!destination)return;if(destination.index===source.index)return;applyChange(prev=>{const copy=Array.from(prev);const[moved]=copy.splice(source.index,1);copy.splice(destination.index,0,moved);return copy;});},children:/*#__PURE__*/_jsx(TaskList,{filtered:filtered,editingId:editingId,editingText:editingText,onEditingTextChange:setEditingText,onStartEdit:startEdit,onSaveEdit:saveEdit,onToggleComplete:toggleComplete,onDeleteTask:deleteTask})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","isBefore","parseISO","addDays","addWeeks","addMonths","DragDropContext","initAuth","onAuthChange","subscribeToTasks","addTaskToFirestore","updateTaskInFirestore","deleteTaskFromFirestore","SyncStatus","TopBar","InputContainer","Toolbar","TaskList","jsx","_jsx","jsxs","_jsxs","App","inputText","setInputText","dueInput","setDueInput","recurrenceInput","setRecurrenceInput","tagInput","setTagInput","tasks","setTasks","editingId","setEditingId","editingText","setEditingText","historyPast","setHistoryPast","historyFuture","setHistoryFuture","filter","setFilter","filterTag","setFilterTag","searchText","setSearchText","notificationsEnabled","setNotificationsEnabled","darkMode","setDarkMode","localStorage","getItem","_unused","userId","setUserId","syncStatus","setSyncStatus","offlineMode","setOfflineMode","allTags","Set","flatMap","t","tags","raw","JSON","parse","e","console","warn","past","future","setItem","stringify","user","log","uid","unsubscribe","firestoreTasks","document","body","className","handleKeyDown","ctrlKey","metaKey","key","preventDefault","prev","shiftKey","redo","undo","window","addEventListener","removeEventListener","enableNotifications","alert","perm","Notification","requestPermission","timer","setInterval","now","Date","map","due","completed","notified","dueDate","_unused2","getTime","permission","format","require","concat","text","tag","id","_objectSpread","clearInterval","pushHistory","prevTasks","h","copy","slice","applyChange","updater","next","length","previous","f","nextState","p","addTask","trim","newTask","recurrence","split","then","docId","firestoreId","catch","err","deleteTask","task","find","toggleComplete","handleTaskComplete","updated","startEdit","saveEdit","clearCompleted","result","forEach","push","nextDue","toISOString","Math","random","filtered","includes","toLowerCase","remaining","handleKeyPress","children","onSearchChange","onThemeToggle","onInputChange","onInputKeyPress","onDueChange","onRecurrenceChange","onTagChange","onAddTask","onFilterChange","onFilterTagChange","onClearCompleted","onToggleNotifications","onUndo","onRedo","canUndo","canRedo","onDragEnd","destination","source","index","Array","from","moved","splice","onEditingTextChange","onStartEdit","onSaveEdit","onToggleComplete","onDeleteTask"],"sources":["/home/tiny/Desktop/TodoApp/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { isBefore, parseISO, addDays, addWeeks, addMonths } from 'date-fns';\nimport { DragDropContext } from '@hello-pangea/dnd';\nimport { initAuth, onAuthChange, subscribeToTasks, addTaskToFirestore, updateTaskInFirestore, deleteTaskFromFirestore } from './firebase';\n\nimport SyncStatus from './components/SyncStatus';\nimport TopBar from './components/TopBar';\nimport InputContainer from './components/InputContainer';\nimport Toolbar from './components/Toolbar';\nimport TaskList from './components/TaskList';\n\nfunction App() {\n  // Input states\n  const [inputText, setInputText] = useState('');\n  const [dueInput, setDueInput] = useState('');\n  const [recurrenceInput, setRecurrenceInput] = useState('none');\n  const [tagInput, setTagInput] = useState('');\n\n  // Task states\n  const [tasks, setTasks] = useState([]);\n  const [editingId, setEditingId] = useState(null);\n  const [editingText, setEditingText] = useState('');\n  // History for undo/redo\n  const [historyPast, setHistoryPast] = useState([]);\n  const [historyFuture, setHistoryFuture] = useState([]);\n\n  // Filter states\n  const [filter, setFilter] = useState('all');\n  const [filterTag, setFilterTag] = useState(null);\n  const [searchText, setSearchText] = useState('');\n\n  // Feature states\n  const [notificationsEnabled, setNotificationsEnabled] = useState(false);\n  const [darkMode, setDarkMode] = useState(() => {\n    try {\n      return localStorage.getItem('todoapp_darkmode') === 'true';\n    } catch { return false; }\n  });\n\n  // Firebase states\n  const [userId, setUserId] = useState(null);\n  const [syncStatus, setSyncStatus] = useState('syncing');\n  const [offlineMode, setOfflineMode] = useState(false);\n\n  // Get unique tags from all tasks\n  const allTags = [...new Set(tasks.flatMap(t => t.tags || []))];\n\n  // Load tasks from localStorage on mount\n  useEffect(() => {\n    try {\n      const raw = localStorage.getItem('todoapp_tasks');\n      if (raw) setTasks(JSON.parse(raw));\n    } catch (e) {\n      console.warn('Failed to load tasks', e);\n    }\n  }, []);\n\n  // Load history from localStorage on mount\n  useEffect(() => {\n    try {\n      const past = localStorage.getItem('todoapp_history_past');\n      const future = localStorage.getItem('todoapp_history_future');\n      if (past) setHistoryPast(JSON.parse(past));\n      if (future) setHistoryFuture(JSON.parse(future));\n    } catch (e) {\n      console.warn('Failed to load history', e);\n    }\n  }, []);\n\n  // Persist history whenever it changes\n  useEffect(() => {\n    try {\n      localStorage.setItem('todoapp_history_past', JSON.stringify(historyPast));\n      localStorage.setItem('todoapp_history_future', JSON.stringify(historyFuture));\n    } catch (e) {\n      console.warn('Failed to save history', e);\n    }\n  }, [historyPast, historyFuture]);\n\n  // Initialize Firebase and auth\n  useEffect(() => {\n    initAuth();\n    onAuthChange((user) => {\n      if (user) {\n        console.log('üîê Logged in as:', user.uid);\n        setUserId(user.uid);\n        setSyncStatus('syncing');\n      }\n    });\n  }, []);\n\n  // Subscribe to Firestore tasks when user logs in\n  useEffect(() => {\n    if (!userId) return;\n    \n    const unsubscribe = subscribeToTasks(userId, (firestoreTasks) => {\n      console.log('üì• Synced tasks from Firestore:', firestoreTasks);\n      setTasks(firestoreTasks);\n      setSyncStatus('synced');\n      setOfflineMode(false);\n    });\n    \n    return () => unsubscribe && unsubscribe();\n  }, [userId]);\n\n  // Persist tasks whenever they change\n  useEffect(() => {\n    try {\n      localStorage.setItem('todoapp_tasks', JSON.stringify(tasks));\n    } catch (e) {\n      console.warn('Failed to save tasks', e);\n    }\n  }, [tasks]);\n\n  // Persist dark mode\n  useEffect(() => {\n    localStorage.setItem('todoapp_darkmode', darkMode);\n    document.body.className = darkMode ? 'dark-mode' : '';\n  }, [darkMode]);\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      // Ctrl+D or Cmd+D = toggle dark mode\n      if ((e.ctrlKey || e.metaKey) && e.key === 'd') {\n        e.preventDefault();\n        setDarkMode(prev => !prev);\n      }\n      // Ctrl+Z = Undo ; Ctrl+Shift+Z = Redo\n      if ((e.ctrlKey || e.metaKey) && e.key === 'z') {\n        e.preventDefault();\n        if (e.shiftKey) {\n          redo();\n        } else {\n          undo();\n        }\n      }\n      // Escape = cancel edit\n      if (e.key === 'Escape' && editingId) {\n        setEditingId(null);\n        setEditingText('');\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [editingId]);\n\n  // Notifications: request permission and periodically check due tasks\n  const enableNotifications = async () => {\n    if (!('Notification' in window)) {\n      alert('Browser Anda tidak mendukung Notification API');\n      return;\n    }\n    try {\n      const perm = await Notification.requestPermission();\n      if (perm === 'granted') {\n        setNotificationsEnabled(true);\n      } else {\n        alert('Izin notifikasi ditolak atau dibatalkan');\n      }\n    } catch (e) {\n      console.warn('Notification permission error', e);\n    }\n  };\n\n  useEffect(() => {\n    let timer = null;\n    if (notificationsEnabled) {\n      // check every 30s\n      timer = setInterval(() => {\n        const now = new Date();\n        setTasks(prev => prev.map(t => {\n          if (t.due && !t.completed && !t.notified) {\n            let dueDate;\n            try { dueDate = parseISO(t.due); } catch { return t; }\n            if (dueDate.getTime() <= now.getTime()) {\n              try {\n                if (Notification.permission === 'granted') {\n                  /* eslint-disable no-new */\n                  const { format } = require('date-fns');\n                  new Notification(`Tugas: ${t.text}`, { body: `Tenggat ${format(dueDate, 'Pp')}`, tag: `task-${t.id}` });\n                }\n              } catch (e) {\n                console.warn('Failed sending notification', e);\n              }\n              return { ...t, notified: true };\n            }\n          }\n          return t;\n        }));\n      }, 30000);\n    }\n    return () => { if (timer) clearInterval(timer); };\n  }, [notificationsEnabled]);\n\n  // Core task functions\n  // History helpers for undo/redo\n  const pushHistory = (prevTasks) => {\n    setHistoryPast((h) => {\n      const copy = h.slice(-98); // keep last 99\n      return [...copy, prevTasks];\n    });\n  };\n\n  const applyChange = (updater) => {\n    setTasks((prev) => {\n      const next = typeof updater === 'function' ? updater(prev) : updater;\n      try { pushHistory(prev); } catch (e) { /* ignore */ }\n      setHistoryFuture([]); // clear redo stack\n      return next;\n    });\n  };\n\n  const undo = () => {\n    setHistoryPast((past) => {\n      if (!past || past.length === 0) return past;\n      const previous = past[past.length - 1];\n      setHistoryFuture((f) => [tasks, ...f]);\n      setTasks(previous);\n      return past.slice(0, past.length - 1);\n    });\n  };\n\n  const redo = () => {\n    setHistoryFuture((future) => {\n      if (!future || future.length === 0) return future;\n      const nextState = future[0];\n      setHistoryPast((p) => [...p, tasks]);\n      setTasks(nextState);\n      return future.slice(1);\n    });\n  };\n\n  const addTask = () => {\n    if (inputText.trim()) {\n      const newTask = { \n        id: Date.now(), \n        text: inputText.trim(), \n        completed: false, \n        due: dueInput || null, \n        recurrence: recurrenceInput, \n        notified: false,\n        tags: tagInput ? tagInput.split(',').map(t => t.trim()).filter(t => t) : []\n      };\n      \n      // Try to sync to Firestore\n      if (userId && !offlineMode) {\n        addTaskToFirestore(newTask, userId)\n          .then((docId) => {\n            console.log('‚úÖ Task synced to Firestore:', docId);\n            setTasks(prev => prev.map(t => t.id === newTask.id ? { ...t, firestoreId: docId } : t));\n          })\n          .catch((err) => {\n            console.warn('‚ö†Ô∏è Failed to sync task to Firestore:', err);\n            setOfflineMode(true);\n            setSyncStatus('error');\n          });\n      }\n\n  applyChange(prev => [...prev, newTask]);\n      setInputText('');\n      setDueInput('');\n      setRecurrenceInput('none');\n      setTagInput('');\n    } else {\n      alert('Tulis dulu tugasnya!');\n    }\n  };\n\n  const deleteTask = (id) => {\n    const task = tasks.find(t => t.id === id);\n    if (userId && task?.firestoreId && !offlineMode) {\n      deleteTaskFromFirestore(userId, task.firestoreId)\n        .catch((err) => {\n          console.warn('‚ö†Ô∏è Failed to delete task from Firestore:', err);\n          setOfflineMode(true);\n          setSyncStatus('error');\n        });\n    }\n  applyChange(prev => prev.filter(task => task.id !== id));\n  };\n\n  const toggleComplete = (id) => {\n    const task = tasks.find(t => t.id === id);\n    if (task && !task.completed && task.recurrence && task.recurrence !== 'none') {\n      handleTaskComplete(id);\n    } else {\n      applyChange(prev => prev.map(t => {\n        if (t.id === id) {\n          const updated = { ...t, completed: !t.completed };\n          if (userId && t.firestoreId && !offlineMode) {\n            updateTaskInFirestore(userId, t.firestoreId, updated)\n              .catch((err) => {\n                console.warn('‚ö†Ô∏è Failed to update task in Firestore:', err);\n                setOfflineMode(true);\n                setSyncStatus('error');\n              });\n          }\n          return updated;\n        }\n        return t;\n      }));\n    }\n  };\n\n  const startEdit = (task) => {\n    setEditingId(task.id);\n    setEditingText(task.text);\n  };\n\n  const saveEdit = (id) => {\n    if (!editingText.trim()) {\n      setEditingId(null);\n      setEditingText('');\n      return;\n    }\n    applyChange(prev => prev.map(t => {\n      if (t.id === id) {\n        const updated = { ...t, text: editingText.trim(), notified: t.due && isBefore(parseISO(t.due), new Date()) ? t.notified : false };\n        if (userId && t.firestoreId && !offlineMode) {\n          updateTaskInFirestore(userId, t.firestoreId, updated)\n            .catch((err) => {\n              console.warn('‚ö†Ô∏è Failed to update task in Firestore:', err);\n              setOfflineMode(true);\n              setSyncStatus('error');\n            });\n        }\n        return updated;\n      }\n      return t;\n    }));\n    setEditingId(null);\n    setEditingText('');\n  };\n\n  const clearCompleted = () => {\n    applyChange(prev => prev.filter(t => !t.completed));\n  };\n\n  // Recurring task handler: when completed, generate next occurrence\n  const handleTaskComplete = (id) => {\n    applyChange(prev => {\n      const result = [];\n      prev.forEach(t => {\n        if (t.id === id) {\n          result.push({ ...t, completed: true });\n          if (t.recurrence && t.recurrence !== 'none' && t.due) {\n            try {\n              const dueDate = parseISO(t.due);\n              let nextDue = null;\n              if (t.recurrence === 'daily') nextDue = addDays(dueDate, 1).toISOString();\n              else if (t.recurrence === 'weekly') nextDue = addWeeks(dueDate, 1).toISOString();\n              else if (t.recurrence === 'monthly') nextDue = addMonths(dueDate, 1).toISOString();\n              if (nextDue) {\n                result.push({\n                  id: Date.now() + Math.random(),\n                  text: t.text,\n                  completed: false,\n                  due: nextDue,\n                  recurrence: t.recurrence,\n                  notified: false,\n                  tags: t.tags || []\n                });\n              }\n            } catch (e) { console.warn('Recurrence calc error', e); }\n          }\n        } else {\n          result.push(t);\n        }\n      });\n      return result;\n    });\n  };\n\n  // Filter logic\n  const filtered = tasks.filter(t => {\n    if (filter === 'active') return !t.completed;\n    if (filter === 'completed') return t.completed;\n    return true;\n  }).filter(t => filterTag ? (t.tags && t.tags.includes(filterTag)) : true)\n    .filter(t => searchText ? t.text.toLowerCase().includes(searchText.toLowerCase()) : true);\n\n  const remaining = tasks.filter(t => !t.completed).length;\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter') addTask();\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>üìù To-Do List</h1>\n\n      <SyncStatus syncStatus={syncStatus} offlineMode={offlineMode} userId={userId} />\n\n      <TopBar\n        searchText={searchText}\n        onSearchChange={setSearchText}\n        darkMode={darkMode}\n        onThemeToggle={() => setDarkMode(!darkMode)}\n      />\n\n      <InputContainer\n        inputText={inputText}\n        onInputChange={setInputText}\n        onInputKeyPress={handleKeyPress}\n        dueInput={dueInput}\n        onDueChange={setDueInput}\n        recurrenceInput={recurrenceInput}\n        onRecurrenceChange={setRecurrenceInput}\n        tagInput={tagInput}\n        onTagChange={setTagInput}\n        onAddTask={addTask}\n      />\n\n      <Toolbar\n        filter={filter}\n        onFilterChange={setFilter}\n        allTags={allTags}\n        filterTag={filterTag}\n        onFilterTagChange={setFilterTag}\n        remaining={remaining}\n        onClearCompleted={clearCompleted}\n        notificationsEnabled={notificationsEnabled}\n        onToggleNotifications={() => notificationsEnabled ? setNotificationsEnabled(false) : enableNotifications()}\n        onUndo={undo}\n        onRedo={redo}\n        canUndo={historyPast.length > 0}\n        canRedo={historyFuture.length > 0}\n      />\n\n      <DragDropContext onDragEnd={(result) => {\n        const { destination, source } = result;\n        if (!destination) return;\n        if (destination.index === source.index) return;\n        applyChange(prev => {\n          const copy = Array.from(prev);\n          const [moved] = copy.splice(source.index, 1);\n          copy.splice(destination.index, 0, moved);\n          return copy;\n        });\n      }}>\n        <TaskList\n          filtered={filtered}\n          editingId={editingId}\n          editingText={editingText}\n          onEditingTextChange={setEditingText}\n          onStartEdit={startEdit}\n          onSaveEdit={saveEdit}\n          onToggleComplete={toggleComplete}\n          onDeleteTask={deleteTask}\n        />\n      </DragDropContext>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}